<dialog-component [title]="title" (closeEmit)="closeModal()" [alertMessage]="alertMessage">
    <form [formGroup]="usuarioForm" (ngSubmit)="onSubmit()">
      <div style="border-bottom: 1px solid rgba(0, 0, 0, 0.1);">
        <h4>
          <b>{{this.usuario.username}}&nbsp;{{this.usuario.Username_last}}</b>
        </h4>
      </div>
      <div class="form-row" style="padding-top: 25px;">
        <div class="form-group col-md-6">
          <label for="nip">NIP(4 números): </label>
          <input  disabled="disabled" type="password" class="form-control" id="nip" nombre="nip" [(ngModel)]="usuario.nip"
            formControlName="nip" [ngClass]="{ 'is-invalid': submitted && f.nip.errors }">
          <div *ngIf="submitted && f.nip.errors" class="invalid-feedback">
            <div *ngIf="f.nip.errors.required">NIP es requerido</div>
          </div>
        </div>
        <div class="d-flex align-items-end justify-content-start form-group col-md-6">
          <button class="btn btn-primary" (click)="updateNip()">Cambia el NIP</button>
        </div>
        <div class="form-group col-md-6" *ngIf="sistema">
          <label for="password">Contraseña</label>
          <input  disabled="disabled" type="password" class="form-control" id="password" nombre="password" [(ngModel)]="usuario.password"
            formControlName="password" [ngClass]="{ 'is-invalid': submitted && f.password.errors }">
          <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
            <div *ngIf="f.password.errors.required">Contraseña es requerida</div>
          </div>
        </div>
        <div class="d-flex align-items-end justify-content-start form-group col-md-6" *ngIf="sistema"> 
            <button class="btn btn-primary" (click)="updatePassword()">Cambia La Contraseña</button>
        </div>
        <div class="form-group col-md-6">
          <label for="celular">Celular</label>
          <input type="number" class="form-control" id="celular" nombre="celular" [(ngModel)]="usuario.celular"
            formControlName="celular">
        </div>
        <div class="form-group col-md-6">
          <label for="email">Correo</label>
          <input type="email" class="form-control" id="email" nombre="email" [(ngModel)]="usuario.email"
            formControlName="email" [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
          <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
            <div *ngIf="f.email.errors.required">Correo es requerido</div>
            <div *ngIf="f.email.errors.email">Correo inválido</div>
          </div>
        </div>
      </div>
      <div class="row col-md-12">
        <div class="col-md-6 toggle">
          Status <mat-slide-toggle id="activousr" nombre="activousr" (change)="ToggleStatusUsu()" [(ngModel)]="usuario.activousr"
                                   formControlName="activousr" [ngClass]="{ 'is-invalid': submitted && f.activousr.errors }">
                        {{statusUsu}}
                  </mat-slide-toggle>
          <div *ngIf="submitted && f.activousr.errors" class="invalid-feedback">
            <div *ngIf="f.activousr.errors.required">Estado de la empresa requerido</div>
          </div>
        </div>
        <div class="col-md-6 d-flex justify-content-end">
          <button type="submit" class="btn btn-secondary" (click)="onSubmit()">Actualizar</button>
        </div>
      </div>
    </form>
  </dialog-component>
